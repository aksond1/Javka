28 lvl - 11 lecture. JavaRush

# Task 1
```java
public class Solution {
    public static List<LineItem> lines = new ArrayList<LineItem>();

    public static void main(String[] args) throws IOException {
        String filePath1;
        String filePath2;

        try (BufferedReader reader = new BufferedReader(new InputStreamReader(System.in))) {
            filePath1 = reader.readLine();
            filePath2 = reader.readLine();
        }

        List<String> file1 = readFile(filePath1);
        List<String> file2 = readFile(filePath2);


        int fileLine1 = 0;
        int fileLine2 = 0;

        while (fileLine1 < file1.size() && fileLine2 < file2.size()) {
            if (file1.get(fileLine1).equals(file2.get(fileLine2))) {
                lines.add(new LineItem(Type.SAME, file1.get(fileLine1)));
                fileLine1++;
                fileLine2++;
            } else if (fileLine1 + 1 < file1.size() && file1.get(fileLine1 + 1).equals(file2.get(fileLine2))) {
                lines.add(new LineItem(Type.REMOVED, file1.get(fileLine1)));
                fileLine1++;
            } else if (fileLine2 + 1 < file2.size() && file1.get(fileLine1).equals(file2.get(fileLine2 + 1))) {
                lines.add(new LineItem(Type.ADDED, file2.get(fileLine2)));
                fileLine2++;
            }
        }

        while (fileLine1 < file1.size()) {
            lines.add(new LineItem(Type.REMOVED, file1.get(fileLine1)));
            fileLine1++;
        }

        while (fileLine2 < file2.size()) {
            lines.add(new LineItem(Type.ADDED, file2.get(fileLine2)));
            fileLine2++;
        }
    }

    static List<String> readFile(String s) throws IOException {
        try (BufferedReader bufferedReader = new BufferedReader(new FileReader(s))) {
            String line;
            List<String> list = new ArrayList<>();
            while ((line = bufferedReader.readLine()) != null) {
                list.add(line);
            }
            return list;
        }
    }


    public static enum Type {
        ADDED,        // доданий новий рядок
        REMOVED,      // видалений рядок
        SAME          // без змін
    }

    public static class LineItem {
        public Type type;
        public String line;

        public LineItem(Type type, String line) {
            this.type = type;
            this.line = line;
        }
    }
}
```

# Task 2
```java
public class FileConsoleWriter {
    private FileWriter fileWriter;

    FileConsoleWriter(File file) throws IOException {
        fileWriter = new FileWriter(file);
    }

    FileConsoleWriter(String file) throws  IOException {
        fileWriter = new FileWriter(file);
    }

    FileConsoleWriter(File file, boolean append) throws  IOException {
        fileWriter = new FileWriter(file, append);
    }

    FileConsoleWriter(FileDescriptor id) throws  IOException {
        fileWriter = new FileWriter(id);
    }

    FileConsoleWriter(String file, boolean append) throws  IOException {
        fileWriter = new FileWriter(file, append);
    }

    public void write(char[] cbuf, int off, int len) throws IOException {
        fileWriter.write(cbuf, off, len);
        System.out.println(new String(cbuf).substring(off, off + len));
    }

    public void write(int c) throws IOException {
        fileWriter.write(c);
        System.out.println(c);
    }

    public void write(String str) throws IOException {
        fileWriter.write(str);
        System.out.println(str);
    }

    public void write(String str, int off, int len) throws IOException {
        fileWriter.write(str, off, len);
        System.out.println(str.substring(off, off + len));
    }

    public void write(char[] cbuf) throws IOException {
        fileWriter.write(cbuf);
        System.out.println(new String(cbuf));
    }

    public void close() throws IOException {
        fileWriter.close();
    }

    public static void main(String[] args) {

    }
}
```

# Task 3
```java
public class Solution {
    public static void main(String[] args) throws IOException {
        String fileName;
        StringBuilder readFile = new StringBuilder();

        try (BufferedReader reader = new BufferedReader(new InputStreamReader(System.in))) {
            fileName = reader.readLine();
        }

        try (BufferedReader bufferedReader = new BufferedReader(new FileReader(fileName))) {
            while (bufferedReader.ready()) {
                readFile.append(bufferedReader.readLine());
            }
        }
        String file = readFile.toString().replaceAll("[\\n\\r]+", "");

        String tag = args[0];
        String openedTag = "<" + tag;
        String closedTag = "</" + tag;

        int openedIndex = file.indexOf(openedTag);
        int closedIndex = file.indexOf(closedTag);

        ArrayList<Integer> openedTagsIndexes = new ArrayList<>();
        ArrayList<Integer> closedTagsIndexes = new ArrayList<>();

        while (openedIndex != -1 || closedIndex != -1) {
            if (openedIndex != -1 && openedIndex < closedIndex) {
                openedTagsIndexes.add(openedIndex);
                openedIndex = file.indexOf(openedTag, openedIndex + 1);
            } else if (openedIndex == -1 || closedIndex < openedIndex) {
                closedTagsIndexes.add(closedIndex + tag.length() + 3);
                closedIndex = file.indexOf(closedTag, closedIndex + 1);
            }
        }

        Stack<String> stack = new Stack<>();
        for (int i = openedTagsIndexes.size() - 1; i >= 0; i--) {
            stack.push(file.substring(openedTagsIndexes.get(i), getNextClosedTag(closedTagsIndexes, openedTagsIndexes.get(i))));
        }
        while (!stack.isEmpty()) {
            System.out.println(stack.pop());
        }
    }


    public static int getNextClosedTag(ArrayList<Integer> closedTag, Integer openTag ) {
        Iterator<Integer> iterator = closedTag.iterator();
        while (iterator.hasNext()) {
           Integer i = iterator.next();
           if (i > openTag) {
               iterator.remove();
               return i;
           }
        }
        return 0;
    }
}
```

# Task 4
```java
public class Solution {
    public static void main(String[] args) throws IOException {
        TreeMap<String, Double> salary = new TreeMap<>();

        String fileName = args[0];
        String line;
        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            while ((line = reader.readLine()) != null) {
                String[] splitedLine = line.split(" ");
                String key = splitedLine[0];
                Double value = Double.parseDouble(splitedLine[1]);

                if (!salary.containsKey(key)) {
                    salary.put(key, value);
                } else {
                    Double currentValue = salary.get(key);
                    salary.put(key, value + currentValue);
                }
            }
        }
        for (String key : salary.keySet()) {
            System.out.println(key + " " + salary.get(key));
        }
    }
}
```

# Task 5
```java
public class Solution {
    public static void main(String[] args) throws IOException {
        TreeMap<String, Double> salary = new TreeMap<>();
        TreeSet<String> name = new TreeSet<>();

        String fileName = args[0];
        String line;
        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            while ((line = reader.readLine()) != null) {
                String[] splitedLine = line.split(" ");
                String key = splitedLine[0];
                Double value = Double.parseDouble(splitedLine[1]);

                if (!salary.containsKey(key)) {
                    salary.put(key, value);
                } else {
                    Double currentValue = salary.get(key);
                    salary.put(key, value + currentValue);
                }
            }
        }

        double bestSalary = salary.firstEntry().getValue();

        for (double value : salary.values()) {
            if (value > bestSalary) {
                bestSalary = value;
            }
        }

        for (String names : salary.keySet()) {
            if (bestSalary == salary.get(names)) {
                name.add(names);
            }
        }

        for (String s : name) {
            System.out.println(s);
        }
    }
}
```

# Task 6
```java
public class Solution {
    public static final List<Person> PEOPLE = new ArrayList<Person>();

    public static void main(String[] args) throws IOException {
        ArrayList<String> file = new ArrayList<>();

        String fileName = args[0];
        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            String s;
            while ((s = reader.readLine()) != null) {
                file.add(s);
            }
        }

        for (String line : file) {
            String[] split = line.split(" ");
            StringBuilder stringBuilder = new StringBuilder();

            for (int i = 0; i < split.length - 3; i++) {
                stringBuilder.append(split[i]).append(" ");
            }

            int day = Integer.parseInt(split[split.length - 3]);
            int month = Integer.parseInt(split[split.length - 2]) - 1;
            int year = Integer.parseInt(split[split.length - 1]);
            Calendar birthday = new GregorianCalendar(year, month, day);

            PEOPLE.add(new Person(stringBuilder.toString().trim(), birthday.getTime()));
        }
    }
}
```
